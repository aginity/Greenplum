{"entities":[{"fqn":"/Community Queries","id":"067ce53b-d1d2-431a-9f3d-4765eb18eebf","parent_folder_id":"bb6de4af-1aad-493e-a9ee-b3e75cf58ed7","name":"Community Queries","entity_type":"FOLDER"},{"fqn":"/Community Queries/Greenplum/Administrative Queries/Search for Columns by partial name - Public schema","id":"0ed315e9-9c26-48ad-bdb0-605562c5557c","parent_folder_id":"b5d39e8a-11fb-42a2-a5c4-208b67d4fa0e","name":"Search for Columns by partial name - Public schema","entity_type":"SQL_ENTITY","description":"","content":"/* \r\nDescription:  This snippet will take a partial column name and find all instances of it in a Redshift database\r\nPlatform:  Greenplum\r\nParameters:  $partial_column_name pass in something like '%mycol%'.  The parameters are not case sensitive since we lower it.\r\n\r\n*/\r\n\r\nselect table_catalog as database, table_schema, table_name, column_name, ordinal_position as column_sequence\r\nfrom information_schema.columns\r\nwhere lower(column_name) like '%' || lower($partial_column_name) || '%'\r\nand table_schema = 'public'","type":"QUERY","platform":"Snowflake","executed_count":0},{"fqn":"/Community Queries/Greenplum/Administrative Queries/Unused indexes","id":"1932d05d-a90c-4f3c-bffc-1630fb900f43","parent_folder_id":"b5d39e8a-11fb-42a2-a5c4-208b67d4fa0e","name":"Unused indexes","entity_type":"SQL_ENTITY","description":"","content":"\r\nSELECT \r\n  relname AS table_name, \r\n  indexrelname AS index_name, \r\n  pg_size_pretty(pg_relation_size(indexrelname)) index_size\r\nFROM \r\n  pg_stat_all_indexes\r\nWHERE \r\n  schemaname = 'public'\r\n  AND idx_scan = 0\r\n  AND idx_tup_read = 0\r\n  AND idx_tup_fetch = 0\r\nORDER BY \r\n  pg_relation_size(indexrelname) DESC","type":"QUERY","platform":"Snowflake","executed_count":0},{"fqn":"/Community Queries/Greenplum/Administrative Queries/Databases actual size","id":"3e807f0c-dec0-4913-be0b-7502015872c5","parent_folder_id":"b5d39e8a-11fb-42a2-a5c4-208b67d4fa0e","name":"Databases actual size","entity_type":"SQL_ENTITY","description":"","content":"select \r\n  datname as \"Database\",\r\n  pg_size_pretty(pg_database_size(datname)) as \"Size\"\r\nfrom \r\n  pg_database\r\norder by \r\n  pg_database_size(datname) desc","type":"QUERY","platform":"Snowflake","executed_count":0},{"fqn":"/Community Queries/Greenplum/Administrative Queries/Search for Columns by exact name - Public schema","id":"4a8f04ff-e3f7-493b-b638-856d54abba1c","parent_folder_id":"b5d39e8a-11fb-42a2-a5c4-208b67d4fa0e","name":"Search for Columns by exact name - Public schema","entity_type":"SQL_ENTITY","description":"","content":"\r\n/* \r\nDescription:  This snippet will take a column name and find all instances of it in a Redshift database in the 'public' schema.\r\nPlatform:  Greenplum\r\nParameters:  $column_name pass in something like 'my_column'.  The parameters are not case sensitive since we lower it.\r\n\r\n*/\r\n\r\nselect table_catalog as database, table_schema, table_name, column_name, ordinal_position as column_sequence\r\nfrom information_schema.columns\r\nwhere lower(table_schema) = 'public' \r\nand lower(column_name) = lower($column_name)\r\n","type":"QUERY","platform":"Snowflake","executed_count":0},{"fqn":"/Community Queries/Greenplum","id":"65bfba1c-b924-49b8-a9cb-edaeb62b6d45","parent_folder_id":"067ce53b-d1d2-431a-9f3d-4765eb18eebf","name":"Greenplum","entity_type":"FOLDER"},{"fqn":"/Community Queries/Greenplum/Administrative Queries/Search for Tables by partial name - Public schema","id":"8115bc4f-7b57-441f-b2c7-695244452797","parent_folder_id":"b5d39e8a-11fb-42a2-a5c4-208b67d4fa0e","name":"Search for Tables by partial name - Public schema","entity_type":"SQL_ENTITY","description":"","content":"\r\n/* \r\nDescription:  This snippet will take a partial table name and find all instances of it in Redshift\r\nPlatform:  Greenplum\r\nParameters:  $partial_table_name pass in something like '%table%'.  The parameters are not case sensitive since we lower it.\r\n*/\r\n\r\nselect table_catalog as database, table_schema, table_name\r\nfrom information_schema.tables\r\nwhere lower(table_name) like '%' || lower($partial_table_name) || '%' \r\nand table_schema = 'public'","type":"QUERY","platform":"Snowflake","executed_count":0},{"fqn":"/Community Queries/Greenplum/Administrative Queries/List users","id":"abb142fc-1f19-4d65-b97e-7edcd5037780","parent_folder_id":"b5d39e8a-11fb-42a2-a5c4-208b67d4fa0e","name":"List users","entity_type":"SQL_ENTITY","description":"","content":"select \r\n  *\r\nfrom \r\n  pg_user","type":"QUERY","platform":"Snowflake","executed_count":0},{"fqn":"/Community Queries/Greenplum/Administrative Queries","id":"b5d39e8a-11fb-42a2-a5c4-208b67d4fa0e","parent_folder_id":"65bfba1c-b924-49b8-a9cb-edaeb62b6d45","name":"Administrative Queries","entity_type":"FOLDER"},{"fqn":"/Community Queries/Greenplum/Administrative Queries/Running Queries and Lock Statuses","id":"bf6d197e-1c7d-4f1e-a701-ff2483936365","parent_folder_id":"b5d39e8a-11fb-42a2-a5c4-208b67d4fa0e","name":"Running Queries and Lock Statuses","entity_type":"SQL_ENTITY","description":"","content":"SELECT distinct\r\n  S.procpid,\r\n  age(query_start, now()),\r\n  usename,\r\n  current_query,\r\n  L.mode,\r\n  L.locktype,\r\n  L.granted\r\nFROM \r\n  pg_stat_activity S\r\n  inner join pg_locks L on S.procpid = L.pid ","type":"QUERY","platform":"Snowflake","executed_count":0},{"fqn":"/Community Queries/Greenplum/Administrative Queries/Search for Columns by partial name - All schemas","id":"d73f27cc-c2ba-4859-9b27-d7fbbfb18bf0","parent_folder_id":"b5d39e8a-11fb-42a2-a5c4-208b67d4fa0e","name":"Search for Columns by partial name - All schemas","entity_type":"SQL_ENTITY","description":"","content":"/* \r\nDescription:  This snippet will take a partial column name and find all instances of it in a Redshift database\r\nPlatform:  Greenplum\r\nParameters:  $partial_column_name pass in something like '%mycol%'.  The parameters are not case sensitive since we lower it.\r\n\r\n*/\r\n\r\nselect table_catalog as database, table_schema, table_name, column_name, ordinal_position as column_sequence\r\nfrom information_schema.columns\r\nwhere lower(column_name) like '%' || lower($partial_column_name) || '%'\r\n","type":"QUERY","platform":"Snowflake","executed_count":0},{"fqn":"/Community Queries/Greenplum/Administrative Queries/Current sessions and their queries","id":"dc0bc298-9758-4a3d-9439-9feb60fb1b58","parent_folder_id":"b5d39e8a-11fb-42a2-a5c4-208b67d4fa0e","name":"Current sessions and their queries","entity_type":"SQL_ENTITY","description":"","content":"\r\n  select\r\n\tprocpid,\r\n  usename as \"User Name\",\r\n\tclient_addr as \"Client IP address\",\r\n\tapplication_name,\r\n  query_start as \"Started at\",\r\n\t(clock_timestamp() - query_start) as \"Duration\",\r\n  waiting as \"State\",\r\n\tcurrent_query as Query\r\nfrom\r\n\tpg_stat_activity\r\norder by \r\n  query_start desc","type":"QUERY","platform":"Snowflake","executed_count":0},{"fqn":"/Community Queries/Greenplum/Administrative Queries/Search for Tables by partial name - All schemas","id":"e3ff85be-77a5-4e47-a6b3-7477e5267188","parent_folder_id":"b5d39e8a-11fb-42a2-a5c4-208b67d4fa0e","name":"Search for Tables by partial name - All schemas","entity_type":"SQL_ENTITY","description":"","content":"/* \r\nDescription:  This snippet will take a partial table name and find all instances of it in Redshift\r\nPlatform:  Greenplum\r\nParameters:  $partial_table_name pass in something like '%table%'.  The parameters are not case sensitive since we lower it.\r\n*/\r\n\r\nselect table_catalog as database, table_schema, table_name\r\nfrom information_schema.tables\r\nwhere lower(table_name) like '%' || lower($partial_table_name) || '%' ","type":"QUERY","platform":"Snowflake","executed_count":0},{"fqn":"/Community Queries/Greenplum/Administrative Queries/Search for Columns by exact name - All schemas","id":"f3ce882f-5274-42ae-91b4-51223e7e7103","parent_folder_id":"b5d39e8a-11fb-42a2-a5c4-208b67d4fa0e","name":"Search for Columns by exact name - All schemas","entity_type":"SQL_ENTITY","description":"","content":"/* \r\nDescription:  This snippet will take a column name and find all instances of it in a Redshift database\r\nPlatform:  Greenplum\r\nParameters:  $column_name pass in something like 'my_column'.  The parameters are not case sensitive since we lower it.\r\n*/\r\n\r\nselect table_catalog as database, table_schema, table_name, column_name, ordinal_position as column_sequence\r\nfrom information_schema.columns foo\r\nwhere lower(column_name) = lower($column_name)\r\n","type":"QUERY","platform":"Snowflake","executed_at":"2019-10-24T10:25:44.070785600Z","executed_count":1}]}
